import dayjs from "dayjs"; // Import dayjs at the top
import { DesignerProps } from "@/types";
import { Avatar } from "./Avatar";
import { Country } from "./global/Country";

export function DesignerDetailBox({
  company,
  country,
  companyURL,
  createdAt,
  dribbble,
  email,
  linkedin,
  firstName,
  instagram,
  lastName,
  role,
  updatedAt,
  website,
  x,
  profileImage,
}: DesignerProps) {
  return (
    <div className="flex flex-col gap-3">
      <div className="designer-box-gradient flex flex-col justify-between gap-2 rounded-md p-4 font-sans text-stone-950 md:flex-row">
        <div className="flex items-center gap-4">
          <Avatar
            firstName={firstName}
            lastName={lastName}
            profileImage={profileImage}
            size="md"
          />
          <div className="flex flex-col justify-center">
            <div className="text-xl font-semibold">
              {firstName} {lastName}
            </div>
            <div>
              {company == "Self-employed" ? (
                `${role}, ${company}`
              ) : (
                <>
                  {role} at{" "}
                  {companyURL ? (
                    <a
                      className={companyURL && "underline"}
                      href={companyURL}
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      {company}
                    </a>
                  ) : (
                    <span>{company}</span>
                  )}
                </>
              )}
            </div>
            {website ? (
              <a className="underline" href={website} target="_blank">
                View Website &gt;
              </a>
            ) : (
              ""
            )}
          </div>
        </div>
        <div className="flex flex-col justify-between gap-2">
          <div className="flex gap-2 py-2 md:justify-end">
            <p className="font-sans text-stone-800">{`Based in ${country}`}</p>{" "}
            <Country country={country} />
          </div>
          <div className="flex justify-start gap-5">
            {/* Email Icon */}
            {email && (
              <a href={`mailto:${email}`}>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_3319_1719)">
                    <path
                      d="M3 3C2.20435 3 1.44129 3.31607 0.87868 3.87868C0.316071 4.44129 0 5.20435 0 6L0 18.015C0.00396529 18.808 0.321786 19.5673 0.883965 20.1266C1.44615 20.686 2.20694 21 3 21H11.25C11.4489 21 11.6397 20.921 11.7803 20.7803C11.921 20.6397 12 20.4489 12 20.25C12 20.0511 11.921 19.8603 11.7803 19.7197C11.6397 19.579 11.4489 19.5 11.25 19.5H3C2.66982 19.5 2.34884 19.3911 2.08686 19.1902C1.82487 18.9892 1.63652 18.7074 1.551 18.3885L10.011 13.182L12 14.3745L22.5 8.0745V12.75C22.5 12.9489 22.579 13.1397 22.7197 13.2803C22.8603 13.421 23.0511 13.5 23.25 13.5C23.4489 13.5 23.6397 13.421 23.7803 13.2803C23.921 13.1397 24 12.9489 24 12.75V6C24 5.20435 23.6839 4.44129 23.1213 3.87868C22.5587 3.31607 21.7956 3 21 3H3ZM8.562 12.312L1.5 16.6575V8.0745L8.562 12.312ZM1.5 6.3255V6C1.5 5.60218 1.65804 5.22064 1.93934 4.93934C2.22064 4.65804 2.60218 4.5 3 4.5H21C21.3978 4.5 21.7794 4.65804 22.0607 4.93934C22.342 5.22064 22.5 5.60218 22.5 6V6.3255L12 12.6255L1.5 6.3255Z"
                      fill="#232323"
                    />
                    <path
                      d="M21.3705 21.4035C22.8855 21.4035 23.751 20.118 23.751 18.366V18.051C23.751 15.645 21.96 13.5 18.78 13.5H18.7275C15.63 13.5 13.5 15.54 13.5 18.648V18.969C13.5 22.23 15.657 24 18.537 24H18.603C19.494 24 20.13 23.889 20.4585 23.7375V22.6425C20.091 22.8075 19.449 22.9125 18.6885 22.9125H18.6225C16.6215 22.9125 14.766 21.7305 14.766 18.93V18.6945C14.766 16.209 16.353 14.6085 18.726 14.6085H18.786C21.0885 14.6085 22.512 16.1835 22.512 18.0975V18.2745C22.512 19.737 22.026 20.3595 21.5535 20.3595C21.2055 20.3595 20.9385 20.1375 20.9385 19.7295V16.4445H19.5795V17.298H19.5345C19.4085 16.851 18.9825 16.353 18.1035 16.353C16.9365 16.353 16.215 17.1855 16.215 18.453V19.245C16.215 20.583 16.95 21.396 18.105 21.396C18.8115 21.396 19.449 21.0555 19.626 20.4315H19.6905C19.8675 21.0615 20.616 21.4035 21.3705 21.4035ZM17.691 19.0215V18.681C17.691 17.862 18.0315 17.4945 18.5505 17.4945C18.996 17.4945 19.4085 17.7825 19.4085 18.5565V19.107C19.4085 19.9665 19.029 20.223 18.5625 20.223C18.0315 20.223 17.691 19.9005 17.691 19.023V19.0215Z"
                      fill="#232323"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_3319_1719">
                      <rect width="24" height="24" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </a>
            )}
            {/* Linkedin Icon */}
            {linkedin && (
              <a href={`${linkedin}`} target="_blank">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_3319_1620)">
                    <path
                      d="M0 1.719C0 0.7695 0.789 0 1.7625 0H22.2375C23.211 0 24 0.7695 24 1.719V22.281C24 23.2305 23.211 24 22.2375 24H1.7625C0.789 24 0 23.2305 0 22.281V1.719ZM7.4145 20.091V9.2535H3.813V20.091H7.4145ZM5.6145 7.773C6.87 7.773 7.6515 6.942 7.6515 5.901C7.629 4.8375 6.8715 4.029 5.6385 4.029C4.4055 4.029 3.6 4.839 3.6 5.901C3.6 6.942 4.3815 7.773 5.5905 7.773H5.6145ZM12.9765 20.091V14.0385C12.9765 13.7145 13.0005 13.3905 13.0965 13.1595C13.356 12.513 13.9485 11.8425 14.9445 11.8425C16.248 11.8425 16.7685 12.8355 16.7685 14.2935V20.091H20.37V13.875C20.37 10.545 18.594 8.997 16.224 8.997C14.313 8.997 13.4565 10.047 12.9765 10.7865V10.824H12.9525L12.9765 10.7865V9.2535H9.3765C9.4215 10.2705 9.3765 20.091 9.3765 20.091H12.9765Z"
                      fill="#232323"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_3319_1620">
                      <rect width="24" height="24" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </a>
            )}
            {/* X Icon */}
            {x && (
              <a href={`http://x.com/${x}`} target="_blank">
                {/* X Icon SVG */}
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.0923 10.3154L22.2818 1H20.3408L13.2317 9.08814L7.55099 1H1L9.58908 13.232L1 23H2.94103L10.4496 14.4577L16.449 23H23L14.0923 10.3154ZM11.4347 13.3389L10.5644 12.121L3.63981 2.43H6.62091L12.2079 10.251L13.0781 11.4689L20.3424 21.636H17.3613L11.4347 13.3389Z"
                    fill="#232323"
                  />
                </svg>
              </a>
            )}
            {/* Instagram Icon */}
            {instagram && (
              <a href={`http://instagram.com/${instagram}`} target="_blank">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 0C8.7435 0 8.334 0.015 7.0545 0.072C5.775 0.132 4.9035 0.333 4.14 0.63C3.33914 0.931229 2.61374 1.40374 2.0145 2.0145C1.40411 2.61404 0.931661 3.33936 0.63 4.14C0.333 4.902 0.1305 5.775 0.072 7.05C0.015 8.3325 0 8.7405 0 12.0015C0 15.2595 0.015 15.6675 0.072 16.947C0.132 18.225 0.333 19.0965 0.63 19.86C0.9375 20.649 1.347 21.318 2.0145 21.9855C2.6805 22.653 3.3495 23.064 4.1385 23.37C4.9035 23.667 5.7735 23.8695 7.0515 23.928C8.3325 23.985 8.7405 24 12 24C15.2595 24 15.666 23.985 16.947 23.928C18.2235 23.868 19.098 23.667 19.8615 23.37C20.6618 23.0686 21.3867 22.5961 21.9855 21.9855C22.653 21.318 23.0625 20.649 23.37 19.86C23.6655 19.0965 23.868 18.225 23.928 16.947C23.985 15.6675 24 15.2595 24 12C24 8.7405 23.985 8.3325 23.928 7.0515C23.868 5.775 23.6655 4.902 23.37 4.14C23.0684 3.33934 22.5959 2.61401 21.9855 2.0145C21.3864 1.40351 20.661 0.930968 19.86 0.63C19.095 0.333 18.222 0.1305 16.9455 0.072C15.6645 0.015 15.258 0 11.997 0H12.0015H12ZM10.9245 2.163H12.0015C15.2055 2.163 15.585 2.1735 16.8495 2.232C18.0195 2.2845 18.6555 2.481 19.0785 2.6445C19.638 2.862 20.0385 3.123 20.4585 3.543C20.8785 3.963 21.138 4.362 21.3555 4.923C21.5205 5.3445 21.7155 5.9805 21.768 7.1505C21.8265 8.415 21.8385 8.7945 21.8385 11.997C21.8385 15.1995 21.8265 15.5805 21.768 16.845C21.7155 18.015 21.519 18.6495 21.3555 19.0725C21.1631 19.5935 20.856 20.0647 20.457 20.451C20.037 20.871 19.638 21.1305 19.077 21.348C18.657 21.513 18.021 21.708 16.8495 21.762C15.585 21.819 15.2055 21.8325 12.0015 21.8325C8.7975 21.8325 8.4165 21.819 7.152 21.762C5.982 21.708 5.3475 21.513 4.9245 21.348C4.40325 21.1559 3.93169 20.8494 3.5445 20.451C3.14513 20.0641 2.83758 19.5925 2.6445 19.071C2.481 18.6495 2.2845 18.0135 2.232 16.8435C2.175 15.579 2.163 15.1995 2.163 11.994C2.163 8.79 2.175 8.412 2.232 7.1475C2.286 5.9775 2.481 5.3415 2.646 4.9185C2.8635 4.359 3.1245 3.9585 3.5445 3.5385C3.9645 3.1185 4.3635 2.859 4.9245 2.6415C5.3475 2.4765 5.982 2.2815 7.152 2.2275C8.259 2.1765 8.688 2.1615 10.9245 2.16V2.163ZM18.4065 4.155C18.2174 4.155 18.0301 4.19225 17.8554 4.26461C17.6807 4.33698 17.522 4.44305 17.3883 4.57677C17.2545 4.71048 17.1485 4.86923 17.0761 5.04394C17.0037 5.21864 16.9665 5.4059 16.9665 5.595C16.9665 5.7841 17.0037 5.97135 17.0761 6.14606C17.1485 6.32077 17.2545 6.47952 17.3883 6.61323C17.522 6.74695 17.6807 6.85302 17.8554 6.92539C18.0301 6.99775 18.2174 7.035 18.4065 7.035C18.7884 7.035 19.1547 6.88329 19.4247 6.61323C19.6948 6.34318 19.8465 5.97691 19.8465 5.595C19.8465 5.21309 19.6948 4.84682 19.4247 4.57677C19.1547 4.30671 18.7884 4.155 18.4065 4.155ZM12.0015 5.838C11.1841 5.82525 10.3723 5.97523 9.61347 6.27921C8.85459 6.58319 8.16377 7.03511 7.58123 7.60863C6.99868 8.18216 6.53605 8.86585 6.22026 9.61989C5.90448 10.3739 5.74185 11.1833 5.74185 12.0007C5.74185 12.8182 5.90448 13.6276 6.22026 14.3816C6.53605 15.1356 6.99868 15.8193 7.58123 16.3929C8.16377 16.9664 8.85459 17.4183 9.61347 17.7223C10.3723 18.0263 11.1841 18.1763 12.0015 18.1635C13.6193 18.1383 15.1623 17.4779 16.2975 16.3249C17.4326 15.1719 18.0689 13.6188 18.0689 12.0007C18.0689 10.3827 17.4326 8.82962 16.2975 7.67662C15.1623 6.52363 13.6193 5.86324 12.0015 5.838ZM12.0015 7.9995C13.0625 7.9995 14.08 8.42098 14.8303 9.17122C15.5805 9.92146 16.002 10.939 16.002 12C16.002 13.061 15.5805 14.0785 14.8303 14.8288C14.08 15.579 13.0625 16.0005 12.0015 16.0005C10.9405 16.0005 9.92296 15.579 9.17272 14.8288C8.42248 14.0785 8.001 13.061 8.001 12C8.001 10.939 8.42248 9.92146 9.17272 9.17122C9.92296 8.42098 10.9405 7.9995 12.0015 7.9995Z"
                    fill="#232323"
                  />
                </svg>
              </a>
            )}
            {/* Dribble Icon */}
            {dribbble && (
              <a href={`http://dribbble.com/${dribbble}`} target="_blank">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M12 0C5.376 0 0 5.376 0 12C0 18.624 5.376 24 12 24C18.612 24 24 18.624 24 12C24 5.376 18.612 0 12 0ZM19.926 5.532C21.4033 7.33091 22.221 9.58087 22.2435 11.9085C21.9045 11.844 18.5205 11.154 15.111 11.583C15.033 11.415 14.967 11.232 14.889 11.0505C14.6805 10.5555 14.4465 10.0485 14.2125 9.5655C17.9865 8.031 19.7055 5.8185 19.9275 5.5305L19.926 5.532ZM12 1.77C14.6025 1.77 16.9845 2.745 18.795 4.347C18.612 4.608 17.0625 6.6765 13.419 8.043C11.739 4.959 9.879 2.433 9.5925 2.043C10.3817 1.85874 11.1896 1.76712 12 1.77ZM7.6395 2.733C9.01301 4.63657 10.2819 6.61349 11.4405 8.655C6.651 9.93 2.421 9.9045 1.965 9.9045C2.29478 8.35309 2.97848 6.89883 3.96278 5.65512C4.94707 4.41142 6.20536 3.41189 7.6395 2.7345V2.733ZM1.7445 12.015V11.7C2.187 11.715 7.1595 11.7795 12.2745 10.2435C12.573 10.815 12.846 11.4015 13.107 11.9865L12.702 12.1035C7.419 13.809 4.608 18.468 4.3725 18.8595C2.68023 16.9809 1.74398 14.5419 1.7445 12.0135V12.015ZM12 22.2555C9.72232 22.2591 7.50928 21.4985 5.715 20.0955C5.895 19.7175 7.9785 15.7095 13.7565 13.692C13.7835 13.6785 13.7955 13.6785 13.8225 13.6665C14.7966 16.181 15.5284 18.7829 16.008 21.4365C14.742 21.9805 13.3779 22.2592 12 22.2555ZM17.715 20.499C17.61 19.8735 17.0625 16.881 15.723 13.197C18.9375 12.69 21.7485 13.5225 22.0995 13.6395C21.8809 15.0235 21.3784 16.3473 20.6236 17.5278C19.8688 18.7082 18.878 19.7198 17.7135 20.499H17.715Z"
                    fill="#232323"
                  />
                </svg>
              </a>
            )}
          </div>
        </div>
      </div>
      <p className="font-sans text-base text-stone-400">
        {updatedAt == createdAt
          ? `Posted on ${dayjs(updatedAt).format("D MMM, YYYY")}`
          : `Last updated on ${dayjs(updatedAt).format("D MMM, YYYY")}`}
      </p>
    </div>
  );
}
